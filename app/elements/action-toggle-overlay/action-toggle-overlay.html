<dom-module id="action-toggle-overlay">
    <style>
      :host {
        width: auto;
        height: auto;
        display: block;
        overflow: hidden;
      }

      #overlay::before {
        background: #000 url("play-button.svg") no-repeat center center;
        background-size: 72px 72px;
        content: '';
        bottom: 0;
        top: 0;
        left: 0;
        right: 0;
        opacity: .5;
        position:absolute;
        transition: opacity .2s cubic-bezier(.4,0,.2,1)
      }
      #overlay.checked::before {
        opacity: 0;
      }
      #overlay {
        cursor:pointer;
        position:relative;
        touch-action: manipulation;
      }
    </style>
    
  <template>
    <div flex id="overlay" on-tap="tapAction">
      <content></content>
    </div>
  </template>
</dom-module>
  <script>
  (function() {
    Polymer({
      is: 'action-toggle-overlay',

      properties: {
        checked: {
          type: Boolean,
          value: false,
          observer: 'checkedChanged'
        },
        disabled: {
          type: Boolean,
          value: false,
          observer: 'disabledChanged'
        }
      },
      disabledChanged: function(newValue, oldValue) {
        if (!this.disabled)
          return;
        this.checked = false;
      },
      tapAction: function(ev) {
        ev.stopPropagation();
        if (this.disabled)
          return;

        this.checked = !this.checked;
      },
      checkedChanged: function(newValue, oldValue) {
        if (this.checked)
          Polymer.dom(this.$.overlay).classList.add("checked");
        else
          Polymer.dom(this.$.overlay).classList.remove("checked");
        this.fire('change');
      }
    });
  })();
  </script>
